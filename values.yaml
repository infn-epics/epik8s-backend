# Global Configuration
# Target namespace for all backend services
namespace: backend

# Enable OpenShift specific configurations
openshift: false

# Ingress class name (use "" for OpenShift routes)
ingressClassName: "nginx"

# Base domain for ingress hosts
domain: apps.okd-datest.lnf.infn.it

# Default persistent volume size
size: 10Gi

# Elasticsearch Configuration
elasticsearch:
  # Bitnami Elasticsearch chart version
  targetRevision: '21.2.5'
  
  # Number of Elasticsearch master nodes
  replicaCount: 1
  
  # Enable Kibana dashboard
  kibanaEnabled: true
  
  # Resource limits and requests
  resources:
    limits:
      cpu: 5
      memory: 4Gi
    requests:
      cpu: 1
      memory: 2Gi
  
  # Kibana authentication credentials
  kibana:
    username: "epics"
    password: "epics"

# MongoDB Configuration
mongo:
  # Number of MongoDB replicas
  replicaCount: 1
  
  # Bitnami MongoDB chart version
  targetRevision: '14.12.3'
  
  # Authentication settings
  auth:
    enabled: false
    # Uncomment and set if auth is enabled
    # rootUser: "root"
    # rootPassword: "changeme"
    # database: "olog"
  
  # Resource limits and requests
  resources:
    limits:
      cpu: 2
      memory: 2Gi
    requests:
      cpu: 1
      memory: 1Gi

# Kafka Configuration
kafka:
  # Number of Kafka broker replicas
  replicaCount: 1
  
  # Bitnami Kafka chart version (v32+ uses new externalAccess structure)
  targetRevision: '32.4.3'
  
  # Authentication configuration
  auth:
    clientProtocol: "plaintext"
    interBrokerProtocol: "plaintext"
  
  # External access configuration (for Kafka v32+)
  # IMPORTANT: When enabling external access:
  # - Set externalAccess.enabled=true
  # - Provide loadBalancerIPs matching the number of replicas
  # - Each replica needs its own LoadBalancer IP
  externalAccess:
    enabled: false
    service:
      type: LoadBalancer
      # List of IPs for external access (MUST match replicaCount when enabled)
      # Example for 3 replicas:
      loadBalancerIPs: []
      # - 10.10.6.250
      # - 10.10.6.251
      # - 10.10.6.252
      ports:
        # External port for client connections
        external: 9094
  
  # Resource limits and requests
  resources:
    limits:
      cpu: 2
      memory: 4Gi
    requests:
      cpu: 1
      memory: 2Gi